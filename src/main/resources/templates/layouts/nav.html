<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">

<nav class="navbar navbar-expand-lg navbar-light bg-light" th:fragment="header">
	<a class="navbar-brand" th:href="@{/}">
		<img src="/resources/B-lodged.png" width="30" height="30" alt="" class="d-inline-block align-top">

		Blodged</a>
	<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
		aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
		<span class="navbar-toggler-icon"></span>
	</button>
	<div class="collapse navbar-collapse mx-3" id="navbarNav">
		<ul class="navbar-nav me-auto">
			<li class="nav-item" th:if="${user != null}">
				<a class="nav-link" th:href="@{/following}">Following</a>
			</li>
			<li class="nav-item">
				<a class="nav-link" th:href="@{/}">All Pages</a>
			</li>
			<li class="nav-item" th:if="${user != null}">
				<a class="nav-link" th:href="${'/accounts/view/' + user.getId()}">Your Page</a>
			</li>
			<li class="nav-item">
				<a class="nav-link" th:href="@{/swagger.html}">API Documentation</a>
			</li>
		</ul>
		<div class="nav-item dropdown">
			<div th:switch="${user == null ? 'null' : 'not null'}" class="nav-link dropdown-toggle" style="margin-right: 1rem;"
				 id="navbarDropdown" type="button" data-bs-toggle="dropdown"
				 aria-expanded="false">
				<span th:case="'null'">Not logged in</span>
				<span th:case="'not null'">Logged in as <span th:text="${user.getEmail()}"/></span>
			</div>
			<ul th:if="${user != null}" class="dropdown-menu" aria-labelledby="navbarDropdown">
				<li><a class="dropdown-item" th:href="@{/accounts/logout}">Logout</a></li>
				<li><a class="dropdown-item" th:href="@{/accounts/options}">My Account</a></li>
			</ul>
			<ul th:if="${user == null}" class="dropdown-menu" aria-labelledby="navbarDropdown">
				<li><a class="dropdown-item" th:href="@{/accounts/login}">Login</a></li>
				<li><a class="dropdown-item" th:href="@{/accounts/register}">Register</a></li>
			</ul>
		</div>
	</div>
</nav>

</html>